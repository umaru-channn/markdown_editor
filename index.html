<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown IDE</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="node_modules/@xterm/xterm/css/xterm.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="node_modules/katex/dist/katex.min.css" />
</head>

<body>
    <div class="ide-container" id="ide-container">
        <!-- „Éà„ÉÉ„Éó„Éê„Éº -->
        <div class="top-bar" id="top-bar">
            <div class="top-left-controls">
                <div class="left-slot">
                    <button id="btn-toggle-leftpane" title="„Çµ„Ç§„Éâ„Éö„Ç§„É≥„ÅÆË°®Á§∫/ÈùûË°®Á§∫">‚â°</button>
                </div>
                <div class="side-switch-group">
                    <button class="side-switch active" data-target="files" id="btn-top-files" title="„Éï„Ç°„Ç§„É´">üìÑ</button>
                    <button class="side-switch" data-target="git" id="btn-top-git" title="GitÁÆ°ÁêÜ">üåø</button>
                    <button class="side-switch" data-target="outline" id="btn-top-outline" title="„Ç¢„Ç¶„Éà„É©„Ç§„É≥">üìë</button>
                </div>
            </div>
            <div class="editor-tabs" id="editor-tabs">
            </div>
            <div class="top-right-controls">
                <button id="btn-toggle-right-activity" class="window-control-btn" title="Âè≥„Éë„Éç„É´„ÅÆË°®Á§∫/ÈùûË°®Á§∫">
                    <span style="font-size: 12px;">‚ó´</span>
                </button>

                <button id="btn-minimize" class="window-control-btn" title="ÊúÄÂ∞èÂåñ">
                    <svg width="10" height="10" viewBox="0 0 10.2 1">
                        <rect width="10.2" height="1" fill="currentColor" />
                    </svg>
                </button>

                <button id="btn-maximize" class="window-control-btn" title="ÊúÄÂ§ßÂåñ">
                    <svg class="icon-maximize" width="10" height="10" viewBox="0 0 10 10">
                        <path d="M0,0v10h10V0H0z M9,9H1V1h8V9z" fill="currentColor" />
                    </svg>
                    <svg class="icon-restore hidden" width="10" height="10" viewBox="0 0 10 10">
                        <path d="M2,0v2H0v8h8V8h2V0H2z M7,9H1V3h6V9z M9,7H8V2H3V1h6V7z" fill="currentColor" />
                    </svg>
                </button>

                <button id="btn-close" class="window-control-btn close" title="Èñâ„Åò„Çã">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <polygon points="10,0.7 9.3,0 5,4.3 0.7,0 0,0.7 4.3,5 0,9.3 0.7,10 5,5.7 9.3,10 10,9.3 5.7,5"
                            fill="currentColor" />
                    </svg>
                </button>
            </div>
        </div>

        <div class="main-content">
            <!-- Â∑¶„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„Éê„Éº -->
            <div class="activity-bar">
                <div class="spacer"></div>
                <div class="icon" id="btn-zen" title="Zen„É¢„Éº„Éâ">üßò</div>
                <div class="icon" id="btn-settings" title="Ë®≠ÂÆö">‚öôÔ∏è</div>
            </div>

            <!-- Â∑¶„Éö„Ç§„É≥ -->
            <div class="left-pane" id="left-pane">
                <div class="left-pane-header" id="left-pane-header">
                    <!-- „Éï„Ç°„Ç§„É´„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„ÉºÁî®„Éú„Çø„É≥ -->
                    <div class="header-buttons header-buttons-files" id="header-buttons-files">
                        <button id="btn-open-folder" class="header-btn" title="„Éï„Ç©„É´„ÉÄ„ÇíÈñã„Åè">üìÇ</button>
                        <button id="btn-new-file" class="header-btn" title="Êñ∞Ë¶è„Éï„Ç°„Ç§„É´„Çí‰ΩúÊàê">üìÑ</button>
                        <button id="btn-new-folder" class="header-btn" title="Êñ∞Ë¶è„Éï„Ç©„É´„ÉÄ„Çí‰ΩúÊàê">üìÅ</button>
                        <button id="btn-sort-asc" class="header-btn" title="ÊòáÈ†Ü„Åß„ÇΩ„Éº„Éà">‚ñ≤</button>
                        <button id="btn-sort-desc" class="header-btn" title="ÈôçÈ†Ü„Åß„ÇΩ„Éº„Éà">‚ñº</button>
                    </div>
                    <!-- GitÁî®„Éú„Çø„É≥ -->
                    <div class="header-buttons header-buttons-git content-hidden" id="header-buttons-git">
                        <button id="btn-git-stage" class="header-btn" title="„Åô„Åπ„Å¶„ÅÆÂ§âÊõ¥„Çí„Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞">‚úì</button>
                        <button id="btn-git-unstage" class="header-btn" title="„Åô„Åπ„Å¶„ÅÆÂ§âÊõ¥„Çí„Ç¢„É≥„Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞">‚úï</button>
                        <button id="btn-git-refresh" class="header-btn" title="Êõ¥Êñ∞">üîÑ</button>
                    </div>
                    <!-- „Ç¢„Ç¶„Éà„É©„Ç§„É≥Áî®„Éú„Çø„É≥ -->
                    <div class="header-buttons header-buttons-outline content-hidden" id="header-buttons-outline">
                        <button id="btn-outline-collapse" class="header-btn" title="„Åô„Åπ„Å¶Êäò„Çä„Åü„Åü„ÇÄ">‚àí</button>
                        <button id="btn-outline-expand" class="header-btn" title="„Åô„Åπ„Å¶Â±ïÈñã">+</button>
                    </div>
                </div>

                <!-- „Éï„Ç°„Ç§„É´„Ç®„ÇØ„Çπ„Éó„É≠„Éº„É©„Éº -->
                <div class="left-pane-content" id="content-files">
                    <div class="file-tree" id="file-tree-container">
                        <div class="tree-item expanded" data-path=".">
                            <span class="tree-toggle">‚ñº</span>
                            <span class="tree-icon">üìÇ</span>
                            <span class="tree-label"></span>
                        </div>
                        <div class="tree-children" style="display: block;"></div>
                    </div>
                </div>

                <!-- Git „Éë„Éç„É´ -->
                <div class="left-pane-content content-hidden" id="content-git">
                    <strong>Git: Â§âÊõ¥</strong>
                    <div class="git-section">
                        <div class="git-section-title">Â§âÊõ¥ÔºàUnstagedÔºâ</div>
                        <div class="git-file-list" id="git-unstaged"></div>
                    </div>
                    <div class="git-section">
                        <div class="git-section-title">„Çπ„ÉÜ„Éº„Ç∏Ê∏à„ÅøÔºàStagedÔºâ</div>
                        <div class="git-file-list" id="git-staged"></div>
                    </div>
                    <div class="git-commit-area">
                        <textarea id="git-message" placeholder="„Ç≥„Éü„ÉÉ„Éà„É°„ÉÉ„Çª„Éº„Ç∏..." rows="3"></textarea>
                        <button id="git-commit-btn" class="git-action-btn">Commit</button>
                        <button id="git-push-btn" class="git-action-btn">Push</button>
                    </div>
                </div>

                <!-- „Ç¢„Ç¶„Éà„É©„Ç§„É≥ -->
                <div class="left-pane-content content-hidden" id="content-outline">
                    <strong>„Ç¢„Ç¶„Éà„É©„Ç§„É≥</strong>
                    <ul id="outline-tree"></ul>
                </div>
            </div>

            <!-- ‰∏≠Â§Æ„Éö„Ç§„É≥Ôºà„Ç®„Éá„Ç£„ÇøÔºâ -->
            <div class="center-pane" id="center-pane">
                <!-- Êã°Âºµ„ÉÑ„Éº„É´„Éê„Éº -->
                <div class="toolbar">
                    <div class="toolbar-left" id="toolbar-left">
                        <!-- ‰øùÂ≠ò -->
                        <button id="btn-save" title="‰øùÂ≠ò (Ctrl+S)">üíæ</button>
                        <span class="separator">|</span>
                        
                        <!-- Undo/Redo -->
                        <button id="toolbar-undo" title="ÂÖÉ„Å´Êàª„Åô (Ctrl+Z)">‚Ü©</button>
                        <button id="toolbar-redo" title="„ÇÑ„ÇäÁõ¥„Åó (Ctrl+Y)">‚Ü™</button>
                        <span class="separator">|</span>

                        <!-- Ë¶ãÂá∫„Åó -->
                        <button id="btn-h2" title="Ë¶ãÂá∫„Åó2">H2</button>
                        <button id="btn-h3" title="Ë¶ãÂá∫„Åó3">H3</button>
                        <div class="toolbar-dropdown-container">
                            <button id="btn-hn" title="„Åù„ÅÆ‰ªñ„ÅÆË¶ãÂá∫„Åó">Hn ‚ñº</button>
                            <div class="toolbar-dropdown-menu">
                                <button class="dropdown-item" data-action="h1">Heading 1</button>
                                <button class="dropdown-item" data-action="h4">Heading 4</button>
                                <button class="dropdown-item" data-action="h5">Heading 5</button>
                                <button class="dropdown-item" data-action="h6">Heading 6</button>
                            </div>
                        </div>
                        <span class="separator">|</span>

                        <!-- Êõ∏Âºè -->
                        <button id="bold-btn" title="Â§™Â≠ó (Ctrl+B)"><b>B</b></button>
                        <button id="italic-btn" title="Êñú‰Ωì (Ctrl+I)"><i>I</i></button>
                        <button id="strike-btn" title="Âèñ„ÇäÊ∂à„ÅóÁ∑ö"><s>S</s></button>
                        
                        <!-- „É™„É≥„ÇØ„ÉªÁîªÂÉè -->
                        <button id="link-btn" title="„É™„É≥„ÇØÊåøÂÖ•">Link</button>
                        <button id="image-btn" title="ÁîªÂÉèÊåøÂÖ•">Img</button>
                        
                        <span class="separator">|</span>

                        <!-- „Éñ„É≠„ÉÉ„ÇØË¶ÅÁ¥† -->
                        <button id="inline-code-btn" title="„Ç§„É≥„É©„Ç§„É≥„Ç≥„Éº„Éâ (` `)">`</button>
                        <button id="quote-btn" title="ÂºïÁî®">‚Äù</button>
                        <button id="code-btn" title="„Ç≥„Éº„Éâ„Éñ„É≠„ÉÉ„ÇØ">Code</button>
                        <button id="hr-btn" title="Âå∫Âàá„ÇäÁ∑ö">‚Äî</button>
                        
                        <!-- „É™„Çπ„Éà -->
                        <div class="toolbar-dropdown-container">
                            <button id="btn-list-menu" title="„É™„Çπ„Éà">‚â° ‚ñº</button>
                            <div class="toolbar-icon-menu">
                                <button id="btn-bullet-list" title="ÁÆáÊù°Êõ∏„Åç„É™„Çπ„Éà">‚Ä¢</button>
                                <button id="btn-number-list" title="Áï™Âè∑‰ªò„Åç„É™„Çπ„Éà">1.</button>
                                <button id="btn-check-list" title="„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„Éà">‚òë</button>
                            </div>
                        </div>

                        <!-- „Ç™„Éº„Éê„Éº„Éï„É≠„ÉºÁî®„Äå„ÇÇ„Å£„Å®Ë¶ã„Çã„Äç„Éú„Çø„É≥ -->
                        <button id="btn-toolbar-more" class="hidden" title="„Åï„Çâ„Å´Ë°®Á§∫" style="font-weight: bold;">¬ª</button>
                    </div>
                    
                    <div class="toolbar-right">
                        <!-- „Ç¥„ÉüÁÆ±Ôºà„Éï„Ç°„Ç§„É´„ÇíÈñâ„Åò„ÇãÔºâ -->
                        <button id="btn-close-file-toolbar" title="ÁèæÂú®„ÅÆ„Éï„Ç°„Ç§„É´„ÇíÈñâ„Åò„Çã" style="color: #d9534f;">üóë</button>
                    </div>

                    <!-- „Ç™„Éº„Éê„Éº„Éï„É≠„Éº„É°„Éã„É•„Éº („Éú„Çø„É≥„ÅåÊäº„Åï„Çå„Åü„Å®„Åç„Å´Ë°®Á§∫) -->
                    <div id="toolbar-overflow-menu" class="toolbar-overflow-menu hidden"></div>
                </div>

                <div class="editor-area" id="content-readme">
                    <div id="editor" style="height: 100%;"></div>
                </div>

                <!-- Ë®≠ÂÆöÁîªÈù¢ -->
                <div class="settings-view-content content-hidden" id="content-settings">
                    <h1>Ë®≠ÂÆö</h1>
                    <h2>„Ç®„Éá„Ç£„Çø (Editor)</h2>
                    <div class="setting-item">
                        <label for="font-size">„Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫</label>
                        <select id="font-size">
                            <option value="12px">12px</option>
                            <option value="14px">14px</option>
                            <option value="16px" selected>16px</option>
                            <option value="18px">18px</option>
                            <option value="20px">20px</option>
                            <option value="24px">24px</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="font-family">„Éï„Ç©„É≥„Éà (Font Family)</label>
                        <select id="font-family">
                            <option value='"Segoe UI", "Helvetica Neue", Arial, sans-serif' selected>Default (Segoe UI / Helvetica)</option>
                            <option value='"Consolas", "Monaco", monospace'>Monospace (Consolas / Monaco)</option>
                            <option value='"Meiryo", "Yu Gothic", sans-serif'>Japanese (Meiryo / Yu Gothic)</option>
                            <option value='"Times New Roman", Times, serif'>Serif (Times New Roman)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label><input type="checkbox" id="auto-save" checked> Ëá™Âãï‰øùÂ≠ò„ÇíÊúâÂäπ„Å´„Åô„Çã</label>
                    </div>
                    <h2>Â§ñË¶≥ (Appearance)</h2>
                    <div class="setting-item">
                        <label for="theme">„ÉÜ„Éº„Éû</label>
                        <select id="theme">
                            <option value="light">„É©„Ç§„Éà</option>
                            <option value="dark">„ÉÄ„Éº„ÇØ</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Âè≥„Éö„Ç§„É≥Ôºà„Çø„Éº„Éü„Éä„É´/„Éó„É¨„Éì„É•„ÉºÔºâ -->
            <div class="right-pane hidden" id="right-pane">
                <div class="terminal-header" id="terminal-header">
                    <div class="terminal-tabs-container" id="terminal-tabs-container">
                        <div class="terminal-tabs-list" id="terminal-tabs-list"></div>
                        <div class="new-terminal-container">
                            <button id="new-terminal-btn" title="New Terminal">+</button>
                            <button id="dropdown-toggle" title="Select Shell">‚ñæ</button>
                        </div>
                    </div>
                </div>

                <div id="shell-dropdown" class="hidden"></div>
                <div id="terminal-container" class="terminal-content"></div>

                <div class="pdf-preview-header hidden" id="pdf-preview-header">
                    PDF„Éó„É¨„Éì„É•„Éº
                    <div class="pdf-controls">
                        <span id="pdf-page-info"></span>
                    </div>
                </div>
                <div id="pdf-preview-container" class="pdf-preview-content hidden">
                    <canvas id="pdf-canvas"></canvas>
                </div>
            </div>

            <div class="resizer" id="resizer-right"></div>

            <!-- Âè≥„Ç¢„ÇØ„ÉÜ„Ç£„Éì„ÉÜ„Ç£„Éê„Éº -->
            <div class="right-activity-bar">
                <div class="icon" id="btn-terminal-right" title="„Çø„Éº„Éü„Éä„É´">üíª</div>
                <div class="icon" id="btn-pdf-preview" title="PDF„Éó„É¨„Éì„É•„Éº">üìÑ</div>
            </div>
        </div>

        <!-- ‰∏ã„Éö„Ç§„É≥ -->
        <div class="bottom-pane hidden" id="bottom-pane">
            <div class="terminal-header" id="bottom-terminal-header">
                „Çø„Éº„Éü„Éä„É´
            </div>
            <div id="terminal-bottom-container" class="terminal-content"></div>
        </div>

        <div class="resizer" id="resizer-bottom"></div>

        <div class="status-bar">
            <div class="status-left">
                <span class="icon">üåø main*</span>
            </div>
            <div class="status-right">
                <span id="file-stats">ÊñáÂ≠óÊï∞: 0 | Ë°åÊï∞: 0</span>
                <span class="icon" id="btn-toggle-position" title="„Çø„Éº„Éü„Éä„É´„ÅÆ‰ΩçÁΩÆ„ÇíÂàá„ÇäÊõø„Åà"> ‚óß </span>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="node_modules/@xterm/xterm/lib/xterm.js"></script>
    <script src="node_modules/@xterm/addon-fit/lib/addon-fit.js"></script>
    <script src="node_modules/@xterm/addon-web-links/lib/addon-web-links.js"></script>
    <script src="node_modules/katex/dist/katex.min.js"></script>
    <script src="node_modules/katex/dist/contrib/auto-render.min.js"></script>
    <script src="node_modules/mermaid/dist/mermaid.min.js"></script>
    <script src="node_modules/marked/lib/marked.umd.js"></script>
    <script type="module">
        import * as pdfjsLib from './node_modules/pdfjs-dist/build/pdf.min.mjs';
        pdfjsLib.GlobalWorkerOptions.workerSrc = './node_modules/pdfjs-dist/build/pdf.worker.min.mjs';
        window.pdfjsLib = pdfjsLib;
    </script>
    <script src="./renderer.js"></script>
</body>
</html>